(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(22)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(6),r=n.n(i),l=n(2),o=n(3),u=n(4),c=n(9),h=n(7),p=n(1),d=n.n(p),m=n(8);function v(e){return null===e?e:Array.isArray(e)?Object(m.a)(e):"object"===typeof e?Object(l.a)({},e):e}var g=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"save",value:function(e,t){return"undefined"!==typeof localStorage&&(localStorage.setItem(e,t),!0)}},{key:"load",value:function(e){return"undefined"!==typeof localStorage?localStorage.getItem(e):""}}]),e}();function S(e,t,n,a,s){if(null===e[a])return[];for(var i=[{name:"n",xStep:0,yStep:-1},{name:"ne",xStep:1,yStep:-1},{name:"e",xStep:1,yStep:0},{name:"se",xStep:1,yStep:1},{name:"s",xStep:0,yStep:1},{name:"sw",xStep:-1,yStep:1},{name:"w",xStep:-1,yStep:0},{name:"nw",xStep:-1,yStep:-1}],r=0;r<i.length;r++){var l=f(e,t,n,a,i[r].xStep,i[r].yStep,s);if(l.length===s)return l}return[]}function f(e,t,n,a,s,i,r){if(1===r)return[a];var l=a%n+s*(r-1);if(l>n-1||l<0)return[];var o=Math.floor(a/t)+i*(r-1);if(o>t-1||o<0)return[];for(var u=[a],c=a,h=0;h<r-1;h++){if(e[c+=1*s+i*n]!==e[a])return[];u.push(c)}return u}n(15);var w=function(e){var t=d()("btn",e.className,{hidden:e.hidden,disabled:e.disabled});return s.a.createElement("button",{className:t,onClick:e.disabled?void 0:e.onClick},e.value)},C=(n(16),function(e){for(var t=function(t){var n="";"X"===e.squares[t]?n="value-x":"O"===e.squares[t]&&(n="value-o");var a=d()("square",n,{winner:e.winningSquares.includes(t)});return s.a.createElement(w,{key:t,className:a,onClick:e.onClickSquare.bind(this,t),disabled:e.winningSquares.length>0||null!==e.squares[t],value:""})},n=[],a=0;a<e.numRows;a++){for(var i=[],r=a*e.numCols,l=0;l<e.numCols;l++)i.push(t(r+l));n.push(s.a.createElement("div",{key:a,className:"board-row"},i))}return s.a.createElement("div",{className:"board"},s.a.createElement("div",null,n))}),b=(n(17),function(e){var t=d()("player","player-x",{winner:e.score.X>e.score.O}),n=d()("player","player-o",{winner:e.score.X<e.score.O}),a=e.score.X>0?e.score.X:"\xa0",i=e.score.O>0?e.score.O:"\xa0";return s.a.createElement("div",{className:"score-board"},s.a.createElement("div",{className:t},s.a.createElement("div",{className:"title"}),s.a.createElement("div",{className:"score"},a)),s.a.createElement("div",{className:n},s.a.createElement("div",{className:"title"}),s.a.createElement("div",{className:"score"},i)))}),k=(n(18),function(e){var t=e.value<=e.minValue,n=e.value>=e.maxValue,a=d()("input-stepper",e.className),i=d()("btn plus",{disabled:n}),r=d()("btn minus",{disabled:t});return s.a.createElement("div",{className:a},s.a.createElement("button",{className:r,onClick:t?void 0:e.onClick.bind(void 0,-1)},"-"),s.a.createElement("label",null,e.value),s.a.createElement("button",{className:i,onClick:n?void 0:e.onClick.bind(void 0,1)},"+"))}),y=(n(19),function(e){var t=d()("dropdown",e.className,{hidden:e.hidden,disabled:e.disabled});return s.a.createElement("select",{className:t,onChange:e.disabled?void 0:e.onChange,value:e.selectedValue},e.values.map((function(e){return s.a.createElement("option",{value:e.id,key:e.id},e.name)})))}),E=(n(20),n(21),function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).webStorage=new g,a.settingsPanel=null,a.setSettingsPanel=function(e){a.settingsPanel=e};var s=parseInt(a.webStorage.load("themeId"))||0,i=parseInt(a.webStorage.load("numRows"))||3,r=parseInt(a.webStorage.load("numCols"))||3,u=parseInt(a.webStorage.load("numCellsInALineToWin"))||3,c={history:[{squares:Array(i*r).fill(null)}],currentTurn:0,xIsNext:!0,winner:null,winningSquares:[],draw:!1};return a.state=Object(l.a)(Object(l.a)({},c),{},{defaultGameState:c,settings:{numRows:i,numCols:r,numCellsInALineToWin:u},score:{X:0,O:0},inputs:{dropdownThemeId:s,inputStepperRows:i,inputStepperCols:r,inputStepperCells:u},gui:{loaded:!1,settingsPanelHeight:0,gameOverTimerElapsed:0},themes:[{id:0,name:"Banana",className:"theme-banana"},{id:1,name:"Eight Bit",className:"theme-bit"},{id:2,name:"Unicorn",className:"theme-unicorn"}]}),window.onload=function(){var e=v(a.state.gui);e.loaded=!0,a.setState({gui:e})},a}return Object(u.a)(n,[{key:"handleClick_btnSaveSettings",value:function(){var e=this,t=v(this.state.gui);if(t.settingsPanelHeight=0,this.haveSettingsChanged()){var n=v(this.state.settings);n.numRows=this.state.inputs.inputStepperRows,n.numCols=this.state.inputs.inputStepperCols,n.numCellsInALineToWin=this.state.inputs.inputStepperCells,this.webStorage.save("numRows",n.numRows),this.webStorage.save("numCols",n.numCols),this.webStorage.save("numCellsInALineToWin",n.numCellsInALineToWin);var a=v(this.state.defaultGameState);a.history=[{squares:Array(n.numRows*n.numCols).fill(null)}],this.setState({settings:n,defaultGameState:a,gui:t},(function(){e.resetBoard()}))}else this.setState({gui:t})}},{key:"handleClick_inputStepperRows",value:function(e){var t=v(this.state.inputs);t.inputStepperRows+=e,t.inputStepperCells=Math.min(Math.max(t.inputStepperRows,t.inputStepperCols),t.inputStepperCells),this.setState({inputs:t})}},{key:"handleClick_inputStepperCols",value:function(e){var t=v(this.state.inputs);t.inputStepperCols+=e,t.inputStepperCells=Math.min(Math.max(t.inputStepperRows,t.inputStepperCols),t.inputStepperCells),this.setState({inputs:t})}},{key:"handleClick_inputStepperCells",value:function(e){var t=v(this.state.inputs);t.inputStepperCells+=e,this.setState({inputs:t})}},{key:"handleClick_btnSettings",value:function(){if(null!==this.settingsPanel){var e=v(this.state.gui);0===e.settingsPanelHeight?e.settingsPanelHeight=this.settingsPanel.scrollHeight:e.settingsPanelHeight=0,this.setState({gui:e})}}},{key:"haveSettingsChanged",value:function(){var e=this.state;return(e.inputs.inputStepperRows!==e.settings.numRows||e.inputs.inputStepperCols!==e.settings.numCols||e.inputs.inputStepperCells!==e.settings.numCellsInALineToWin)&&!0}},{key:"resetBoard",value:function(){this.setState(v(this.state.defaultGameState))}},{key:"undo",value:function(e){var t=this.state.currentTurn-e;if(!(t<0)){var n=v(this.state.score);this.state.winner&&(n[this.state.winner]-=1),this.setState({score:n,currentTurn:t,xIsNext:t%2===0,winner:null,winningSquares:[],draw:!1})}}},{key:"getSelectedThemeClassName",value:function(){var e=this,t=this.state.themes.find((function(t){return t.id===e.state.inputs.dropdownThemeId}));return t?t.className:"theme-default"}},{key:"handleChange_dropdownTheme",value:function(e){var t=this,n=parseInt(e.target.value),a=v(this.state.inputs);a.dropdownThemeId=n,this.webStorage.save("themeId",n),this.setState({inputs:a},(function(){var e=v(t.state.gui);e.settingsPanelHeight=t.settingsPanel.scrollHeight,t.setState({gui:e})}))}},{key:"handleClick_Square",value:function(e){var t=this,n=this.state.history.slice(0,this.state.currentTurn+1),a=v(n[this.state.currentTurn].squares),s=v(this.state.gui);if(!this.state.winner&&!a[e]){a[e]=this.state.xIsNext?"X":"O";for(var i,r=v(this.state.score),l=null,o=0;o<a.length-1;o++)if((i=S(a,this.state.settings.numRows,this.state.settings.numCols,o,this.state.settings.numCellsInALineToWin)).length===this.state.settings.numCellsInALineToWin){r[l=a[o]]+=1;break}var u=!1;l||(u=a.every((function(e){return null!=e})));var c=n.concat([{squares:a}]),h=this.state.currentTurn+1;(l||u)&&(s.gameOverTimerElapsed=.2,this.gameOverTimer=setInterval((function(){if(t.state.gui.gameOverTimerElapsed>=1e3)clearInterval(t.gameOverTimer),t.resetBoard();else{var e=v(t.state.gui);e.gameOverTimerElapsed+=200,t.setState({gui:e})}}),200)),this.setState({gui:s,history:c,currentTurn:h,xIsNext:!this.state.xIsNext,winner:l,winningSquares:i,draw:u,score:r})}}},{key:"render",value:function(){var e;e=this.state.draw?"This game is a draw!":this.state.winner?"Player "+this.state.winner+" has won!":"Player "+(this.state.xIsNext?"X":"O")+"'s turn";var t=d()("game-wrapper",this.getSelectedThemeClassName(),{loaded:this.state.gui.loaded}),n={height:this.state.gui.settingsPanelHeight};return s.a.createElement("div",{className:t},s.a.createElement("div",{className:"game"},s.a.createElement("div",{className:"header"},s.a.createElement("h1",null,"Tic Tac Toe"),s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",null),s.a.createElement(b,{score:this.state.score}),s.a.createElement(w,{className:"btn-show-settings",onClick:this.handleClick_btnSettings.bind(this),value:"\u200b"})),s.a.createElement("div",{className:"settings-panel",style:n,ref:this.setSettingsPanel},s.a.createElement("div",{className:"inner-wrapper"},s.a.createElement("label",null,"Settings:"),s.a.createElement("div",{className:"wrapper"},s.a.createElement("label",null,"Rows:"),s.a.createElement(k,{className:"input-stepper-rows",onClick:this.handleClick_inputStepperRows.bind(this),maxValue:5,minValue:3,value:this.state.inputs.inputStepperRows}),s.a.createElement("label",null,"Columns:"),s.a.createElement(k,{className:"input-stepper-columns",onClick:this.handleClick_inputStepperCols.bind(this),maxValue:5,minValue:3,value:this.state.inputs.inputStepperCols}),s.a.createElement("label",null,"Cells in a line to win:"),s.a.createElement(k,{className:"input-stepper-cells",onClick:this.handleClick_inputStepperCells.bind(this),maxValue:Math.max(this.state.inputs.inputStepperRows,this.state.inputs.inputStepperCols),minValue:3,value:this.state.inputs.inputStepperCells}),s.a.createElement("label",null,"Theme:"),s.a.createElement(y,{className:"dropdown-theme",onChange:this.handleChange_dropdownTheme.bind(this),values:this.state.themes,selectedValue:this.state.inputs.dropdownThemeId})),s.a.createElement(w,{className:"btn-save-settings",onClick:this.handleClick_btnSaveSettings.bind(this),value:"Save"})))),s.a.createElement(C,{onClickSquare:this.handleClick_Square.bind(this),squares:this.state.history[this.state.currentTurn].squares,winningSquares:this.state.winningSquares,numRows:this.state.settings.numRows,numCols:this.state.settings.numCols}),s.a.createElement("div",{className:"status"},e),s.a.createElement(w,{className:"btn-undo",onClick:this.undo.bind(this,1),hidden:0===this.state.currentTurn||null!==this.state.winner||this.state.draw,value:"Undo"})))}}]),n}(s.a.Component)),N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/tic-tac-toe",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/tic-tac-toe","/service-worker.js");N?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):T(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):T(t,e)}))}}()}],[[10,1,2]]]);
//# sourceMappingURL=main.5289ae19.chunk.js.map